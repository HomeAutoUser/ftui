<!DOCTYPE html>
<html>

<head>
  <!--
    /* FHEM tablet ui */
    /**
    * UI builder framework for FHEM
    *
    * Version: 3.0.0
    *
    * Copyright (c) 2015-2019 Mario Stephan <mstephan@shared-files.de>
    * Under MIT License (http://www.opensource.org/licenses/mit-license.php)
    * https://github.com/knowthelist/ftui
    */
    -->
  <base href="../" />
  <script src="ftui.js"></script>
  <link href="ftui.css" rel="stylesheet">
  <link href="themes/ftui-theme.css" rel="stylesheet">
  <link href="favicon.ico" rel="icon" type="image/x-icon" />

  <meta name="debug" content="0">
  <meta name="toast_position" content="top">
<script>
  const myDateTimeFormat1 = () => value => new Intl.DateTimeFormat('it', {weekday: "long"}).format(value);
  const myDateTimeFormat2 = () => value => new Intl.DateTimeFormat('it', {weekday: "short"}).format(value);
</script>
  <title>FTUI Example Label</title>
</head>

<body>

  <ftui-grid base-width="120" base-height="120" shape="round" margin="6">

    <ftui-grid-tile row="1" col="1" height="1" width="1">
      <ftui-grid-header>TEST IT</ftui-grid-header>
      <div class="cell">

        <ftui-button [(value)]="lamp1" states="on,off">Press here</ftui-button>
        <ftui-button [(value)]="dummy1" states="on,off">Press here</ftui-button>

      </div>
    </ftui-grid-tile>

    <ftui-grid-tile row="1" col="3" height="1" width="3">
      <ftui-grid-header>Original</ftui-grid-header>
      <ftui-label [text]="WeatherLocal:state"></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="1" col="6" height="1" width="2">
      <ftui-grid-header>Color</ftui-grid-header>
      <ftui-label [color]="dummy2">COLOR</ftui-label>
      <ftui-label [color]="dummy1 | map('on: warning, off: success')">ROLOC</ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="1" col="8" height="1" width="2">
      <ftui-grid-header>Align</ftui-grid-header>
      <ftui-row>
        <ftui-column>Lamp1</ftui-column>
        <ftui-column [color]="lamp1 | map('on:danger, off:success')">
          <ftui-label [text]="lamp1"></ftui-label>
        </ftui-column>
      </ftui-row>

    </ftui-grid-tile>

    <ftui-grid-tile row="2" col="2" height="1" width="1">
      <ftui-grid-header>text part4</ftui-grid-header>
      <ftui-label [text]="WeatherLocal:state | part(4)"></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="2" col="3" height="1" width="2">
      <ftui-grid-header>time</ftui-grid-header>
      <ftui-label [text]="WeatherLocal:state:time"></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="2" col="5" height="1" width="2">
      <ftui-grid-header>time min:sec</ftui-grid-header>
      <ftui-label [text]="WeatherLocal:state:time | toDate() | format('mm:ss')"></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="2" col="7" height="1" width="2" shape="round">
      <ftui-grid-header>COLORS</ftui-grid-header>
      <ftui-row>
        <ftui-column shape="round" color="light">light</ftui-column>
        <ftui-column shape="round" color="medium">medium</ftui-column>
        <ftui-column shape="round" color="dark">dark</ftui-column>
      </ftui-row>
    </ftui-grid-tile>

    <ftui-grid-tile row="2" col="9" height="1" width="2" shape="round">
      <ftui-grid-header>LONG</ftui-grid-header>
      <ftui-label padding="1" scroll text-align="center">
        Lorem Ipsum dolor sit amet, consectetur adipiscing elit,
        sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi
        ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit
        in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia
        deserunt mollit anim id est laborum.
      </ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="4" col="2" height="1" width="1">
      <ftui-grid-header>text pipe</ftui-grid-header>
      <ftui-label [text]="WeatherLocal:state | part(4) | toInt() | multiply(2) | round(1) "></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="3" col="3" height="2" width="2" shape="round" color="green">
      <ftui-label size="0">size=0</ftui-label>
      <ftui-label size="1">size=1</ftui-label>
      <ftui-label size="2">size=2</ftui-label>
      <ftui-label size="3">size=3</ftui-label>
      <ftui-label size="4">size=4</ftui-label>
      <ftui-label size="5">size=5</ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="3" col="5" height="2" width="2" shape="round">
      <ftui-grid-header>ago ...</ftui-grid-header>
      <ftui-label [text]="ftuitest:dateTime4ago"></ftui-label>
      <ftui-label [text]="ftuitest:dateTime4ago | toDate() | ago()"></ftui-label>
      <ftui-label [text]="ftuitest:dateTime4ago | toDate() | ago() | timeFormat('[ dd.hh:mm:ss ]')"></ftui-label>
      <ftui-label
                  [text]="ftuitest:dateTime4ago | toDate() | ago() | timeFormat('[ elapsed since dd days + hh:mm:ss ]')">
      </ftui-label>
      <ftui-label [text]="ftuitest:dateTime4ago | toDate() | ago() | timeFormat('ssssssss seconds')"></ftui-label>
      <ftui-label [text]="ftuitest:dateTime4ago | toDate() | ago() | timeFormat('mmmmmm minutes')"></ftui-label>
      <ftui-label [text]="ftuitest:dateTime4ago | toDate() | ago() | timeFormat('hhhh hours')"></ftui-label>
      <ftui-label [text]="ftuitest:dateTime4ago | toDate() | ago() | timeFormat('dd days')"></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="3" col="7" height="2" width="2" shape="round">
      <ftui-grid-header>... till</ftui-grid-header>
      <ftui-label [text]="ftuitest:dateTime4till"></ftui-label>
      <ftui-label [text]="ftuitest:dateTime4till | toDate() | till()"></ftui-label>
      <ftui-label [text]="ftuitest:dateTime4till | toDate() | till() | timeFormat('[ dd.hh:mm:ss ]')"></ftui-label>
      <ftui-label [text]="ftuitest:dateTime4till | toDate() | till() | timeFormat('[ still dd days + hh:mm:ss ]')">
      </ftui-label>
      <ftui-label [text]="ftuitest:dateTime4till | toDate() | till() | timeFormat('%SSSSSSSSs','ms','upper')">
      </ftui-label>
      <ftui-label [text]="ftuitest:dateTime4till | toDate() | till() | timeFormat('%MMMMMMm','ms','upper')">
      </ftui-label>
      <ftui-label [text]="ftuitest:dateTime4till | toDate() | till() | timeFormat('%HHHHh','ms','upper')"></ftui-label>
      <ftui-label [text]="ftuitest:dateTime4till | toDate() | till() | timeFormat('%DDd','ms','upper')"></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="3" col="9" height="2" width="2" shape="round">
      <ftui-grid-header>... till</ftui-grid-header>
      <ftui-label [text]="ftuitest:seconds4timeFormat"></ftui-label>
      <ftui-label [text]="ftuitest:seconds4timeFormat"></ftui-label>
      <ftui-label [text]="ftuitest:seconds4timeFormat | timeFormat('[ dd.hh:mm:ss ]','s')"></ftui-label>
      <ftui-label [text]="ftuitest:seconds4timeFormat | timeFormat('[ dd day(s) + hh:mm:ss ]','s')"></ftui-label>
      <ftui-label [text]="ftuitest:seconds4timeFormat | timeFormat('%SSSSSSSSs','s','upper')"></ftui-label>
      <ftui-label [text]="ftuitest:seconds4timeFormat | timeFormat('%MMMMMMm','s','upper')"></ftui-label>
      <ftui-label [text]="ftuitest:seconds4timeFormat | timeFormat('%HHHHh','s','upper')"></ftui-label>
      <ftui-label [text]="ftuitest:seconds4timeFormat | timeFormat('%DDd','s','upper')"></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="1" col="2" height="1" width="1">
      <ftui-grid-header>text-filter regexec</ftui-grid-header>
      <ftui-label [text]="WeatherLocal:state | part('.*T:(.*)H:.*')"></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="2" col="1" height="2" width="1">
      <ftui-grid-header>MAP</ftui-grid-header>
      <ftui-label [text]="dummy1 | map('on: offen, off: geschlossen')"></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="3" col="2" height="1" width="1">
      <ftui-grid-header>FIX</ftui-grid-header>
      <ftui-label [text]="WeatherLocal:wind | fix(2)" unit="°C"></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="3" col="2" height="1" width="1">
      <ftui-grid-header>REPLACE</ftui-grid-header>
      <ftui-label [text]="WeatherLocal:fc0_date | replace(/\./g, '/')"></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="4" col="1" height="1" width="1">
      <ftui-grid-header>AUTO REFRESH</ftui-grid-header>
      <ftui-label
                  [text]="AussenTemp:temperature | toInt()"
                  unit="°C">
      </ftui-label>
      <ftui-label
                  [text]="AussenTemp:temperature:time | toDate() | ago() | timeFormat('mm:ss')"
                  [color]="AussenTemp:temperature:time | toDate() | ago() | timeFormat('%MMMMMM') | step('0: blue, 4: warning, 5: alert')"
                  unit="min"
                  interval="10">
      </ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="5" col="1" height="2" width="1">
      <ftui-grid-header>UNIT</ftui-grid-header>
      <ftui-label text="42" unit="s"></ftui-label>
      <ftui-label text="" unit="ms"></ftui-label>
      <ftui-label [text]="ftuitest:watt" unit="W" class="size-0" id="labelUnit"></ftui-label>
      <ftui-label text="100"><span slot="unit"> %<sub>rel</sub></span></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="5" col="2" height="2" width="1">
      <ftui-grid-header>TEST IT</ftui-grid-header>
      <ftui-button @click="sendFhem(`{CommandSetReading(undef,'ftuitest watt ')}`)">null</ftui-button>
      <ftui-button (value)="setreading ftuitest:watt" states="9,10,12.45">Values</ftui-button>
      <ftui-button @click="labelUnit.unit=event.target.value" value="V" states="W,V,A,WA">Units</ftui-button>
    </ftui-grid-tile>

    <ftui-grid-tile row="5" col="3" height="1" width="2">
      <ftui-grid-header>PLACEHOLDER</ftui-grid-header>
      <ftui-label placeholder></ftui-label>
      <ftui-label placeholder></ftui-label>
    </ftui-grid-tile>

    <ftui-grid-tile row="5" col="5" height="1" width="2">
      <ftui-grid-header>DETAILS</ftui-grid-header>
      <details>
        <summary>Batteries: <ftui-label text="Ok" color="ok"></ftui-label>
        </summary>
        <ftui-label text="2.7" unit="V">Room1: </ftui-label>
        <ftui-label text="2.5" unit="V">Room2: </ftui-label>
      </details>
    </ftui-grid-tile>

    <ftui-grid-tile row="5" col="7" height="1" width="3">
      <ftui-grid-header>CONCAT</ftui-grid-header>
      <span>
        <ftui-label [text]="Sonos_Terasse:currentArtist"></ftui-label> - 
        <ftui-label [text]="Sonos_Terasse:currentTitle"></ftui-label>
      </span>
    </ftui-grid-tile>


    <ftui-grid-tile row="6" col="3" height="1" width="3">
      <ftui-grid-header>INTL DateFormat</ftui-grid-header>
      <ftui-label [text]="WeatherLocal:state:time | toDate() | myDateTimeFormat1()"></ftui-label>
      <ftui-label [text]="WeatherLocal:state:time | toDate() | myDateTimeFormat2()"></ftui-label>
    </ftui-grid-tile>

  </ftui-grid>
</body>

</html>
